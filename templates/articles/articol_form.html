{% extends "base.html" %}

{% block content %}
<div style="max-width:600px; margin:2rem auto; padding:2rem; background:#f9f9f9; box-shadow:0 2px 8px rgba(0,0,0,0.1); border-radius:6px;">
  <h2 style="color:#004080; margin-bottom:1.5rem; text-align:center;">
    {% if object %}Editează Articol «{{ object.cod }}»{% else %}Adaugă Articol Nou{% endif %}
  </h2>

  <form method="post" action="{% if object %}{% url 'articles:edit' object.pk %}{% else %}{% url 'articles:create' %}{% endif %}" id="articol-form">
    {% csrf_token %}
    <div style="display:grid; gap:1rem;">
  {% for field in form %}
    <div>
      {{ field.label_tag }}
      {{ field }}
      {% if field.errors %}
        <div style="color:#c00; font-size:0.875rem;">
          {{ field.errors|striptags }}
        </div>
      {% endif %}
    </div>
  {% endfor %}
</div>


    <div style="text-align:center; margin-top:2rem;">
      <button type="submit" style="background:#004080; color:#fff; padding:0.75rem 1.5rem; border:none; border-radius:4px; font-size:1rem; cursor:pointer; transition:background 0.3s;" 
              onmouseover="this.style.background='#003060'" onmouseout="this.style.background='#004080'">
        {% if object %}Salvează Modificările{% else %}Adaugă Articol{% endif %}
      </button>
      <a href="{% url 'articles:list' %}" style="margin-left:1rem; color:#004080; text-decoration:none; font-weight:500; transition:color 0.3s;" 
         onmouseover="this.style.color='#002040'" onmouseout="this.style.color='#004080'">Anulează</a>
    </div>
  </form>
</div>

<script>
  document.getElementById('articol-form').addEventListener('submit', function(event) {
    // Simple client-side validation
    var cod = document.getElementById('{{ form.cod.id_for_label }}');
    var denumire = document.getElementById('{{ form.denumire.id_for_label }}');
    if (!cod.value.trim() || !denumire.value.trim()) {
      alert('Vă rugăm completați câmpurile obligatorii: Cod și Denumire.');
      event.preventDefault();
    }
  });
</script>
{% endblock %}
